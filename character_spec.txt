# Statblock Spezifikation – Spielcharakter (SC) v0.5.1
=============================================

## Zweck
Einheitliche Regeln und eine feste Datenstruktur für die **Generierung** von Spielcharakteren (SCs). Dieses Dokument dient als maßgebliche Anleitung für einen Generator, um sicherzustellen, dass alle erstellten Charaktere konsistent, regelkonform und für digitale Tools lesbar sind.

## Grundprinzipien
1.  **Algorithmische Generierung:** Die Charaktererstellung ist ein strikter, algorithmischer Prozess. Die Schritte in Sektion 1 MÜSSEN exakt in der angegebenen Reihenfolge ausgeführt werden.
2.  **Datenintegrität:** Alle Werte im finalen JSON-Objekt MÜSSEN exakt nach den Formeln und Regeln dieses Dokuments berechnet werden. Es gibt keinen Raum für Interpretation.
3.  **Quellen der Macht:** Die Boni und Fähigkeiten eines Charakters stammen aus drei klar getrennten Quellen: **Volk**, **Beruf** und **Klasse**. Diese MÜSSEN in den dafür vorgesehenen Datenstrukturen erfasst werden.

---

### 1. Algorithmische Generierungshierarchie (Verbindlich)
Ein Generator MUSS die folgenden Schritte in exakter Reihenfolge ausführen, um einen Stufe-1-Charakter zu erstellen.

*   **Schritt 1: Initialisierung:** Erstelle ein leeres Charakter-Objekt. Setze alle sechs Kernattribute (`str`, `ges`, `kon`, `int`, `wis`, `cha`) auf `0`.
*   **Schritt 2: Volk wählen:** Wähle ein Volk aus der Referenztabelle (Sektion 8).
    *   **Für alle Völker außer Menschen:** Addiere die Attributsmodifikatoren des Volks zu den Kernattributen.
    *   **Sonderregel für Menschen:** Führe die "Fokuswahl" (Sektion 8.1) aus, um die Attributsmodifikatoren zu bestimmen und zu addieren.
    *   Trage die Volkseigenschaften in das `faehigkeiten.volk` Array ein.
*   **Schritt 3: Beruf wählen:** Wähle einen Beruf aus der Referenztabelle (Sektion 9). Addiere die Attributsmodifikatoren des Berufs zu den Kernattributen. Trage die Berufs-Fähigkeiten in das `faehigkeiten.beruf` Array ein.
*   **Schritt 4: Klasse wählen:** Wähle eine Klasse aus der Referenztabelle (Sektion 10). Addiere die Attributsmodifikatoren der Klasse zu den Kernattributen. Trage die Stufe-1-Fähigkeit der Klasse in das `faehigkeiten.klasse` Array ein.
*   **Schritt 5: Attributs-Capping (Deckelung):** Überprüfe jedes der sechs Kernattribute.
    *   Wenn ein Attribut größer als `+3` ist, setze es auf `+3`.
    *   Wenn ein Attribut kleiner als `-1` ist, setze es auf `-1`.
    *   Dies sind die finalen Attribute des Charakters.
*   **Schritt 6: Abgeleitete Werte berechnen:** Berechne alle Werte in `abgeleitete_werte`, `abwehr` und `rettungswuerfe` unter Verwendung der finalen Attribute und der verbindlichen Formeln (Sektion 3, 4, 5, 6).
*   **Schritt 7: Startausrüstung generieren:**
      - Bestimme Startgeld basierend auf Klasse:
        - Krieger/Waldläufer: 150 + 3W6 x 10 Gold
        - Kleriker: 120 + 3W6 x 10 Gold  
        - Magier: 2W6 x 10 Gold
      - Füge berufsspezifische Gegenstände hinzu (siehe Sektion 9.1)
      - Generator kauft automatisch sinnvolle Ausrüstung aus der Ausrüstungstabelle
      - Restgeld wird in `waehrung.gold` eingetragen

*   **Schritt 8: Finale Ausgabe:** Fülle das gesamte JSON-Objekt mit den finalen, berechneten Werten.

**Schritt 7: Startausrüstung generieren:**
- Bestimme Startgeld basierend auf Klasse:
  - Krieger: 150 + 3W6 x 10 Gold
  - Waldläufer: 120 + 3W6 x 10 Gold  
  - Kleriker: 100 + 2W6 x 10 Gold
  - Magier: 80 + 2W6 x 10 Gold


---

### 2. Top-Level-Felder (Datenstruktur)
Das finale JSON-Objekt MUSS dieser Struktur folgen.

- `name`: String
- `spieler`: String
- `konzept`: String
- `stufe`: Integer
- `ep`: Integer
- `volk`: String
- `beruf`: String
- `klasse`: String
- `attribute`: Objekt (Siehe Sektion 3)
- `abgeleitete_werte`: Objekt (Siehe Sektion 4)
- `abwehr`: Objekt (Siehe Sektion 5)
- `rettungswuerfe`: Objekt (Siehe Sektion 6)
- `angriffe`: Array von Objekten (Siehe Sektion 7)
- `faehigkeiten`: Objekt
- `ausruestung`: Array von Objekten
- `inventar`: Array von Objekten
- `waehrung`: Objekt

---

### 3. Attribute (`attribute`)
Die finalen, gekappten Kernattribute des Charakters.

- **Struktur:**
  "attribute": { "str": "Integer", "ges": "Integer", "kon": "Integer", "int": "Integer", "wis": "Integer", "cha": "Integer" }

---

### 4. Abgeleitete Werte (`abgeleitete_werte`)
- **Struktur:**
  "abgeleitete_werte": { "lp_max": "Integer", "lp_aktuell": "Integer", "ini_bonus": "Integer", "bew": "Integer" }
- **Berechnungsformeln (verbindlich):**
  - `ini_bonus`: `round((attribute.ges + attribute.wis) / 2)`
  - `bew`: `4 + round(ini_bonus / 2)`
  - `lp_max`:
    - **Krieger:** `14 + 2 * (attribute.kon + stufe)`
    - **Waldläufer/Kleriker:** `12 + attribute.kon + 2 * stufe`
    - **Magier:** `10 + attribute.kon + stufe`

---

### 5. Abwehr (`abwehr`)
- **Struktur:**
  "abwehr": { "pa": "Integer", "asw": "Integer", "sr": { "total": "Integer", "quellen": [ { "quelle": "String", "wert": "Integer" } ] } }
- **Berechnungsformeln (verbindlich):**
  - `pa`: `9 + attribute.str + Boni`
  - `asw`: `9 + attribute.ges + round(attribute.wis / 2) + Boni`
  - `sr.total`: Summe aller `wert` aus `sr.quellen`.

---

### 6. Rettungswürfe (`rettungswuerfe`)
- **Struktur:**
  "rettungswuerfe": { "rz_bonus": "Integer", "rr_bonus": "Integer", "rw_bonus": "Integer" }
- **Berechnungsformeln (verbindlich):**
  - `rz_bonus`: `round((attribute.kon + attribute.str) / 2)`
  - `rr_bonus`: `round((attribute.ges + attribute.wis) / 2)`
  - `rw_bonus`: `round((attribute.wis + attribute.int) / 2)`

---

### 7. Angriffe (`angriffe`)
- **Struktur eines Angriff-Objekts:**
  { "name": "String", "typ": "Nahkampf" | "Fernkampf", "to_hit_bonus": "Integer", "schaden_basis": "Integer", "bemerkung": "String (Optional)" }
- **Berechnungsformeln für `to_hit_bonus` (verbindlich):**
  - **Nahkampf:** `attribute.str + Boni`
  - **Fernkampf:** `attribute.ges + Boni`

---

### 8. Völker (Referenz für Charaktererstellung)
| Volk      | Attributsmodifikatoren         | Volkseigenschaften                                                                                                                              |
|-----------|--------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|
| Menschen  | Siehe Regel "Fokuswahl" (8.1)  | Glück: 1x pro Spielsitzung einen beliebigen Würfelwurf wiederholen.                                                                               |
| Zwerge    | STR+1, KON+2, WIS-1            | Dunkelsicht (18m); Resistenz gegen Gift (Vorteil bei Rettungswürfen gegen Gift).                                                                |
| Elben     | GES+2, KON+1, INT+1, CHA+1     | Scharfe Sinne (+2 auf Bemerkenproben); Immunität gegen Schlafeffekte.                                                                             |
| Halblinge | GES+1, WIS+1, CHA+2            | Resistenz gegen Furcht (Vorteil bei Rettungswürfen); Glück (1x pro Spielsitzung einen beliebigen Würfelwurf wiederholen).                          |
| Drakonier | STR+3, KON+2, INT+1            | Schuppenhaut (SR +1); Drachenerbe (1x/Tag, 1W6 Feuer, 5m Kegel, RR ZW 11 für 1/2 Schaden).                                                        |
| Khajit    | GES+3, CHA+2, KON+1            | Scharfe Sinne (+2 auf Bemerkenproben); Überlegenes Abfangen (kein Fallschaden bis 8m); Klettern +2; Balancieren +2.                               |

#### 8.1 Spezialregel für Menschen: "Fokuswahl"
Ein Generator, der einen Menschen erstellt, MUSS die folgenden Schritte ausführen:
1.  Setze alle sechs Attribute auf `+1`.
2.  Wähle zufällig eine der drei folgenden Optionen:
    *   **Option A (Fokus Stärke):** Wende einen Malus von `-2` auf `INT` an. (Finaler Startwert für INT ist -1).
    *   **Option B (Fokus Geschicklichkeit):** Wende einen Malus von `-2` auf `WIS` an. (Finaler Startwert für WIS ist -1).
    *   **Option C (Fokus Konstitution):** Wende einen Malus von `-2` auf `CHA` an. (Finaler Startwert für CHA ist -1).
3.  Die resultierenden sechs Werte sind die finalen Attributsmodifikatoren für das Volk "Mensch".

---

### 9. Berufe (Referenz für Charaktererstellung)
| Beruf         | Attributsmodifikatoren     | Erlernte Fähigkeiten                               |
|---------------|----------------------------|---------------------------------------------------|
| Söldner       | STR +2, KON +1, INT -1     | Umgang mit improvisierten Waffen                  |
| Jäger         | GES +2, WIS +1, CHA -1     | Spuren lesen (+2)                                 |
| Schmied       | STR +2, KON +1, GES -1     | Wartung                                           |
| Stadtwache    | STR +1, KON +2, GES -1     | Beschützerinstinkt                                |
| Seefahrer     | GES +1, KON +2, INT -1     | Resistenz gegen Gifte und Krankheiten             |
| Geistlicher   | WIS +2, CHA +1, STR -1     | Untote vertreiben, Geistheilung                   |
| Bibliothekar  | INT +2, KON -1, WIS +1     | Gegenstand identifizieren, Monsterkunde           |
| Barde         | CHA +2, GES +1, STR -1     | Lied des Mutes                                    |
| Händler       | CHA +2, INT +1, STR -1     | Auge des Wucherers                                |
| Dorfheiler    | INT +1, WIS +2, STR -1     | Leichte Wunden versorgen, Krankheit heilen        |
| Hexenjäger    | WIS +2, STR +1, INT -1     | Glaubensstärke, Hexenbann                         |

#### 9.1 - Berufsspezifische Startgegenstände:
Der Generator hat eine gewisse kreative Freiheit. Das heisst, es müssen nicht exakt diese Beispiel-Items verwendet werden. 
Die Start-Items sollen zum Beruf passen.

Beispiele für Startausrüstung nach Beruf
Söldner: Wetzstein, Schlafsack
Jäger: 20 Pfeile, Jagdfalle
Schmied: Hammer, Eisenbarren
Stadtwache: Signalpfeife, Fesseln
Seefahrer: 15m Seil, Kompass
Geistlicher: Heiliges Symbol, Weihwasser
Bibliothekar: Tinte & Feder, Pergament (3)
Barde: Musikinstrument (Laute)
Händler: Waage, Handelswaren (20 Silber Wert)
Dorfheiler: Heilkräuter (3), Verbandszeug
Hexenjäger: Silberdolch, Heiliges Symbol



---

### 10. Klassen (Referenz für Charaktererstellung)
| Klasse     | Attributsmodifikatoren     | Fähigkeiten nach Stufe                                 |
|------------|----------------------------|-------------------------------------------------------|
| Krieger    | STR+1, KON+1, INT-1, WIS-1 | Stufe 1: Kampf-Fokus                                  |
| Waldläufer | GES+1, WIS+1, INT-1, CHA-1 | Stufe 1: Zielen; Stufe 3: Taktischer Rückzug (Reaktion) |
| Kleriker   | WIS+1, CHA+1, STR-1, GES-1 | Stufe 1: Untote vertreiben                            |
| Magier     | INT+1, WIS+1, STR-1, KON-1 | (Fähigkeiten für Magier noch zu definieren)           |

---

### 11. Erfahrungspunkte (EP) für Stufenanstiege
Diese Tabelle definiert die Gesamt-EP, die zum Erreichen einer bestimmten Stufe benötigt werden.

| Ziel-Stufe | Benötigte Gesamt-EP | EP-Kosten pro Stufe |
|:-----------|:--------------------|:--------------------|
| 1          | 0                   | -                   |
| 2          | 600                 | 600                 |
| 3          | 1.400               | 800                 |
| 4          | 2.800               | 1.400               |
| 5          | 5.000               | 2.200               |
| 6          | 8.500               | 3.500               |
| 7          | 14.000              | 5.500               |
| 8          | 23.000              | 9.000               |
| 9          | 36.000              | 13.000              |
| 10         | 55.000              | 19.000              |
| 11         | 80.000              | 25.000              |
| 12         | 120.000             | 40.000              |

---

### 12. Beschreibungen der Fähigkeiten (Referenz)
Dies ist die maßgebliche Liste der Fähigkeitsbeschreibungen.

- **Auge des Wucherers:** Der Charakter kann den Wert von Schätzen (Edelsteine, Kunstgegenstände) sofort und präzise einschätzen. Er findet zudem bei Schatztruhen oder besiegten Gegnern 10% mehr Gold.
- **Beschützerinstinkt:** 1x pro Kampf: Wenn ein Gegner einen Angriff gegen einen Verbündeten direkt neben dir ausführt, kannst du deine Reaktion nutzen, um dem Angreifer einen Malus von -2 auf diesen Angriffswurf aufzuerlegen.
- **Gegenstand identifizieren:** 1x pro Tag: Du kannst eine INT-Probe gegen den SG des Gegenstandes ablegen, um dessen Art, Nutzen und eventuelle Flüche zu erfahren.
- **Geistheilung:** 3x pro Tag: Als Aktion (kostet 2 Aktionspunkte) kannst du eine WIS-Probe (ZW 11) ablegen. Bei Erfolg heilst du 1W4+WIS Lebenspunkte bei einer Kreatur in Berührungsreichweite.
- **Glaubensstärke:** Du hast Vorteil bei allen Rettungswürfen gegen Flüche, Verhexungen und geistige Beeinflussung.
- **Hexenbann:** 1x pro Tag: Du kannst versuchen, einen Zauber zu bannen. Lege dazu eine WIS-Probe gegen ZW 10 + Grad des Zaubers ab. Bei Erfolg wird der Zauber neutralisiert.
- **Kampf-Fokus:** 1x pro Begegnung: Als freie Aktion kannst du deinen nächsten Nahkampfangriffswurf mit Vorteil ausführen.
- **Krankheit heilen:** Während einer langen Rast kannst du eine WIS-Probe gegen den SG der Krankheit ablegen, um diese zu heilen.
- **Leichte Wunden versorgen:** 3x pro Tag: Als Aktion (kostet 2 Aktionspunkte) kannst du 1W4+WIS Lebenspunkte bei einer Kreatur heilen. Benötigt Kräuter.
- **Lied des Mutes:** 1x pro Kampf: Als Aktion kannst du allen Verbündeten in Hörweite einen Bonus auf alle Rettungswürfe für 10 Minuten geben.
- **Monsterkunde:** 1x pro Begegnung: Als Aktion kannst du eine INT-Probe (SG 8 + HG der Kreatur) ablegen, um eine relevante Schwäche oder Resistenz zu erfahren.
- **Resistenz gegen Gifte und Krankheiten:** Du erhältst einen Bonus von +2 auf Rettungswürfe gegen Gifte und Krankheiten.
- **Spuren lesen:** Du erhältst einen Bonus von +2 auf Proben zum Spurenlesen.
- **Taktischer Rückzug (Reaktion):** Wenn du im Nahkampf angegriffen wirst, kannst du deine Reaktion nutzen, um dich sofort bis zu deiner halben Bewegungsrate wegzubewegen. Provoziert keine Gelegenheitsangriffe.
- **Umgang mit improvisierten Waffen:** Du erhältst einen Bonus von +1 auf Angriffswürfe mit improvisierten Waffen.
- **Untote vertreiben:** 1x pro Tag: Als Aktion müssen alle untoten Kreaturen in Sichtweite einen Willenskraft-Rettungswurf (ZW 12) bestehen oder für 1W6 Runden fliehen.
- **Wartung:** Du erhältst einen Bonus von +1 auf Würfe, die den Zustand deiner Rüstung betreffen.
- **Zielen:** Wenn du deine Aktion zum Zielen mit einer Fernkampfwaffe nutzt, erhältst du +1 auf den Angriffswurf in deinem nächsten Zug. Kumulativ bis max. +3. Bonus verfällt bei Bewegung (>1 Feld) oder anderer Aktion.

---

### Minimal-Template (zum Ausfüllen durch die KI)
```json
{
  "name": "",
  "spieler": "KI",
  "konzept": "",
  "stufe": 1,
  "ep": 0,
  "volk": "",
  "beruf": "",
  "klasse": "",
  "attribute": { "str": 0, "ges": 0, "kon": 0, "int": 0, "wis": 0, "cha": 0 },
  "abgeleitete_werte": { "lp_max": 0, "lp_aktuell": 0, "ini_bonus": 0, "bew": 0 },
  "abwehr": {
    "pa": 0,
    "asw": 0,
    "sr": { "total": 0, "quellen": [] }
  },
  "rettungswuerfe": { "rz_bonus": 0, "rr_bonus": 0, "rw_bonus": 0 },
  "angriffe": [],
  "faehigkeiten": {
    "volk": [],
    "beruf": [],
    "klasse": []
  },
  "ausruestung": [],
  "inventar": [],
  "waehrung": { "gold": 0}
}
